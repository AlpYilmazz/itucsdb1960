CREATE TABLE user(
	userid serial primary key,
    name varchar(40),
    department varchar(80),
    studentno varchar(10),
    grade integer
);

CREATE TABLE item(
	itemid serial primary key,
    name varchar(100)
);

CREATE TABLE image(
	imageid serial primary key,
    image lo
);

CREATE TABLE message(
	messageid serial primary key,
    body clob
);

CREATE TABLE selling(
	sellid serial primary key,
    itemid integer references item(itemid),
    imageid integer references image(imageid),
    seller integer references user(userid),
    shortD varchar(50),
    price integer
);

CREATE TABLE question(
	questionid serial primary key,
    sellid integer references selling(sellid),
    messageid integer references message(messageid),
    ord integer
);

CREATE TABLE answer(
	answerid serial primary key,
    sellid integer references selling(sellid),
    questionid integer references question(questionid),
    messageid integer references message(messageid),
    ord integer
);

CREATE TABLE item_info(
    sellid integer references selling(sellid),
    messageid integer references message(messageid),
    primary key (sellid, messageid)
);
